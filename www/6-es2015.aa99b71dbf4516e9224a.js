(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"bj+n":function(t,e,i){"use strict";i.r(e),i.d(e,"ProductListPageModule",(function(){return p}));var o=i("ofXK"),n=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),c=i("mrSG"),a=i("Osjz"),l=i("fXoL"),b=i("Zr+e"),u=i("a/9d"),g=i("FAH8");function d(t,e){if(1&t){const t=l.Nb();l.Mb(0,"ion-item",2),l.Ub("click",(function(){l.dc(t);const i=e.$implicit;return l.Wb().goToItem(i)})),l.Mb(1,"ion-thumbnail",8),l.Kb(2,"ion-img",6),l.Lb(),l.Mb(3,"ion-label"),l.hc(4),l.Lb(),l.Mb(5,"ion-label"),l.hc(6),l.Lb(),l.Mb(7,"ion-label"),l.hc(8),l.Lb(),l.Lb()}if(2&t){const t=e.$implicit;l.zb(2),l.bc("src",t.image),l.zb(2),l.ic(" ",t.title," "),l.zb(2),l.ic(" ",t.category," "),l.zb(2),l.ic(" $ ",t.price," ")}}const h=[{path:"",component:(()=>{class t{constructor(t,e,i,o,n,r){this.router=t,this.itemService=e,this.toastController=i,this.camera=o,this.navCtrl=n,this.file=r,this.img="assets/white.png",this.display="",this.imgfile="",this.items=[],this.image="",this.test="",this.randomId=Math.random().toString(36).substr(2,5),this.itemService.getObservable().subscribe(t=>{this.items=this.itemService.items}),this.items=this.itemService.items,null==a.auth().currentUser&&console.log("User not logged in")}ngOnInit(){}logout(){var t=this;a.auth().signOut().then((function(){console.log("Loggging Out"),t.router.navigate(["/login"])})).catch((function(t){console.log("Error! Signout")})),this.itemService.setUsertype("visitor"),this.logoutToast()}openNewItemPage(){console.log("clicked me"),null==a.auth().currentUser&&(console.log("user not logged in"),console.log("log in please"),this.router.navigate(["/login"])),"owner"==this.itemService.getUsertype()?this.router.navigate(["/add-product"]):(console.log("Only an owner can add items"),this.presentToast())}presentToast(){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({color:"danger",message:"Only an owner can add items.",duration:2e3})).present()}))}logoutToast(){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({color:"danger",message:"You have been logged out",duration:2e3})).present()}))}goToItem(t){this.router.navigate(["/product-detail",t])}pickImage(){return Object(c.a)(this,void 0,void 0,(function*(){try{const t={quality:50,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE},e=`data:image/jpeg;base64,${yield this.camera.getPicture(t)}`;a.storage().ref(this.randomId).putString(e,"data_url")}catch(t){console.error(t)}}))}download(){a.storage().ref().child(this.randomId).getDownloadURL().then((function(t){}))}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(s.g),l.Jb(b.a),l.Jb(r.L),l.Jb(u.a),l.Jb(r.G),l.Jb(g.a))},t.\u0275cmp=l.Db({type:t,selectors:[["app-product-list"]],decls:13,vars:2,consts:[["mode","ios"],["slot","end"],[3,"click"],["slot","icon-only","name","add-circle"],["name","log-in-outline"],[1,"ion-padding"],[3,"src"],[3,"click",4,"ngFor","ngForOf"],["slot","start"]],template:function(t,e){1&t&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar",0),l.Mb(2,"ion-title"),l.hc(3," Homepage "),l.Lb(),l.Mb(4,"ion-buttons",1),l.Mb(5,"ion-button",2),l.Ub("click",(function(){return e.openNewItemPage()})),l.Kb(6,"ion-icon",3),l.Lb(),l.Mb(7,"ion-button",2),l.Ub("click",(function(){return e.logout()})),l.Kb(8,"ion-icon",4),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(9,"ion-content",5),l.Kb(10,"ion-img",6),l.Mb(11,"ion-list"),l.gc(12,d,9,4,"ion-item",7),l.Lb(),l.Lb()),2&t&&(l.zb(10),l.bc("src",e.img),l.zb(2),l.bc("ngForOf",e.items))},directives:[r.i,r.D,r.B,r.g,r.f,r.j,r.h,r.k,r.q,o.i,r.m,r.A,r.p],styles:[""]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(h)],s.i]}),t})(),p=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},imports:[[o.b,n.e,r.E,m]]}),t})()}}]);