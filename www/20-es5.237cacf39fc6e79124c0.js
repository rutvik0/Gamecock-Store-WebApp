function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"gp+k":function(e,t,n){"use strict";n.r(t),n.d(t,"AddProductPageModule",(function(){return y}));var r,o,i,a=n("ofXK"),c=n("3Pt+"),s=n("TEn/"),u=n("tyNb"),l=n("mrSG"),b=n("Osjz"),d=n("fXoL"),m=n("Zr+e"),p=n("a/9d"),f=n("FAH8"),h=[{path:"",component:(r=function(){function e(t,n,r,o,i,a){_classCallCheck(this,e),this.router=t,this.formBuilder=n,this.itemService=r,this.toastController=o,this.camera=i,this.file=a,this.randomId=Math.random().toString(36).substr(2,5),this.addPicId="thumb_"+this.randomId,this.downloadURL=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.new_item_form=this.formBuilder.group({title:new c.b("",c.l.required),price:new c.b("",c.l.required),category:new c.b("",c.l.required),description:new c.b("",c.l.required)})}},{key:"createItem",value:function(e){var t=this;b.storage().ref().child(this.addPicId).getDownloadURL().then((function(n){var r=n;null==r&&(r="/assets/default.png"),t.itemService.createItem(e.title,e.price,e.category,r,e.description)})),this.new_item_form.reset(),this.goBack(),this.presentToast()}},{key:"presentToast",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({color:"success",message:"Item Added Successfully",position:"top",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"goBack",value:function(){this.router.navigate(["/tabs/tab1"])}},{key:"pickImage",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={quality:50,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE},e.t0="data:image/jpeg;base64,",e.next=5,this.camera.getPicture(t);case 5:e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1),b.storage().ref(this.randomId).putString(n,"data_url"),setTimeout((function(){r.showImage()}),2e3),e.next=13;break;case 10:e.prev=10,e.t2=e.catch(0),console.error(e.t2);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})))}},{key:"showImage",value:function(){b.storage().ref().child(this.randomId).getDownloadURL().then((function(e){var t=e;document.querySelector("img").src=t}))}}]),e}(),r.\u0275fac=function(e){return new(e||r)(d.Jb(u.g),d.Jb(c.a),d.Jb(m.a),d.Jb(s.L),d.Jb(p.a),d.Jb(f.a))},r.\u0275cmp=d.Db({type:r,selectors:[["app-add-product"]],decls:35,vars:2,consts:[["mode","ios"],["slot","start"],[1,"ion-padding"],["expand","block",3,"click"],["src","test","onerror","this.src = '/assets/default.png'"],[3,"formGroup","submit"],["color","primary","position","floating"],["type","text","formControlName","title","required",""],["type","number","formControlName","price","required",""],["color","primary","formControlName","category","placeholder","Select One"],["value","Toy"],["value","Food"],["value","Drink"],["formControlName","description"],["expand","block","type","submit",1,"submit-btn",3,"disabled","click"]],template:function(e,t){1&e&&(d.Mb(0,"ion-header"),d.Mb(1,"ion-toolbar",0),d.Mb(2,"ion-title"),d.hc(3,"Add New Product"),d.Lb(),d.Mb(4,"ion-buttons",1),d.Kb(5,"ion-back-button"),d.Lb(),d.Lb(),d.Lb(),d.Mb(6,"ion-content",2),d.Mb(7,"ion-button",3),d.Ub("click",(function(){return t.pickImage()})),d.hc(8,"Take Picture"),d.Lb(),d.Kb(9,"img",4),d.Mb(10,"form",5),d.Ub("submit",(function(){return t.createItem(t.new_item_form.value)})),d.Mb(11,"ion-item"),d.Mb(12,"ion-label",6),d.hc(13," Product Title "),d.Lb(),d.Kb(14,"ion-input",7),d.Lb(),d.Mb(15,"ion-item"),d.Mb(16,"ion-label",6),d.hc(17," Product Price (numbers only) "),d.Lb(),d.Kb(18,"ion-input",8),d.Lb(),d.Mb(19,"ion-item"),d.Mb(20,"ion-label"),d.hc(21,"Product Category"),d.Lb(),d.Mb(22,"ion-select",9),d.Mb(23,"ion-select-option",10),d.hc(24,"Toy"),d.Lb(),d.Mb(25,"ion-select-option",11),d.hc(26,"Food"),d.Lb(),d.Mb(27,"ion-select-option",12),d.hc(28,"Drink"),d.Lb(),d.Lb(),d.Lb(),d.Mb(29,"ion-item"),d.Mb(30,"ion-label",6),d.hc(31,"Product Description"),d.Lb(),d.Kb(32,"ion-textarea",13),d.Lb(),d.Mb(33,"ion-button",14),d.Ub("click",(function(){return t.goBack()})),d.hc(34,"Create"),d.Lb(),d.Lb(),d.Lb()),2&e&&(d.zb(10),d.bc("formGroup",t.new_item_form),d.zb(23),d.bc("disabled",!t.new_item_form.valid))},directives:[s.i,s.D,s.B,s.g,s.d,s.e,s.h,s.f,c.m,c.h,c.d,s.m,s.p,s.l,s.K,c.g,c.c,c.k,s.H,s.t,s.J,s.u,s.z],styles:[""]}),r)}],g=((i=function e(){_classCallCheck(this,e)}).\u0275mod=d.Hb({type:i}),i.\u0275inj=d.Gb({factory:function(e){return new(e||i)},imports:[[u.i.forChild(h)],u.i]}),i),y=((o=function e(){_classCallCheck(this,e)}).\u0275mod=d.Hb({type:o}),o.\u0275inj=d.Gb({factory:function(e){return new(e||o)},imports:[[a.b,c.e,s.E,c.j,g]]}),o)}}]);