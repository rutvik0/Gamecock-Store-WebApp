function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{v35Q:function(t,e,r){"use strict";r.r(e),r.d(e,"CartPageModule",(function(){return y}));var n=r("ofXK"),i=r("3Pt+"),o=r("TEn/"),a=r("tyNb"),c=r("mrSG"),s=r("Osjz"),l=r("fXoL"),u=r("Zr+e");function b(t,e){if(1&t){var r=l.Nb();l.Mb(0,"ion-item-sliding"),l.Mb(1,"ion-item"),l.Mb(2,"ion-thumbnail",3),l.Kb(3,"ion-img",4),l.Lb(),l.Mb(4,"ion-label"),l.hc(5),l.Lb(),l.Mb(6,"ion-label"),l.hc(7),l.Lb(),l.Mb(8,"ion-label"),l.hc(9),l.Lb(),l.Lb(),l.Mb(10,"ion-item-options",5),l.Mb(11,"ion-button",6),l.Ub("click",(function(){l.dc(r);var t=e.$implicit;return l.Wb().delete(t)})),l.Kb(12,"ion-icon",7),l.Lb(),l.Lb(),l.Lb()}if(2&t){var n=e.$implicit;l.zb(3),l.bc("src",n.image),l.zb(2),l.ic(" ",n.title," "),l.zb(2),l.ic(" ",n.quantity," "),l.zb(2),l.ic(" $ ",n.cost," ")}}var f,h,d,p=[{path:"",component:(f=function(){function t(e,r){var n=this;_classCallCheck(this,t),this.itemService=e,this.toastController=r,this.cart=[],this.total=0,this.count=0,this.product="",this.uid=s.auth().currentUser.uid,this.itemService.getObservable().subscribe((function(t){n.cart=n.itemService.cart,n.updateTotal()})),this.cart=this.itemService.cart,null==s.auth().currentUser&&console.log("User not logged in"),this.updateTotal()}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"delete",value:function(t){this.itemService.deleteCart(t.id)}},{key:"updateTotal",value:function(){this.total=0,this.count=0,this.product="";var t,e=_createForOfIteratorHelper(this.cart);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.total+=r.cost,this.product+=r.quantity+"x "+r.title+" $"+r.cost+" \n\r\n",this.count++}}catch(n){e.e(n)}finally{e.f()}}},{key:"placeOrder",value:function(){var t=Math.random().toString(36).substr(2,5);this.itemService.placeOrder(this.cart,t,this.uid,this.total,Date(),this.count);var e,r=_createForOfIteratorHelper(this.cart);try{for(r.s();!(e=r.n()).done;){var n=e.value;this.itemService.deleteCart(n.id)}}catch(i){r.e(i)}finally{r.f()}this.orderToast()}},{key:"orderToast",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:"Item order has been placed",color:"success",duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}}]),t}(),f.\u0275fac=function(t){return new(t||f)(l.Jb(u.a),l.Jb(o.L))},f.\u0275cmp=l.Db({type:f,selectors:[["app-cart"]],decls:13,vars:2,consts:[["slot","end",3,"click"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["slot","start"],[3,"src"],["side","end"],["color","danger",3,"click"],["name","trash"]],template:function(t,e){1&t&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-title"),l.hc(3,"Cart"),l.Lb(),l.Mb(4,"ion-button",0),l.Ub("click",(function(){return e.placeOrder()})),l.hc(5," Place Order "),l.Lb(),l.Lb(),l.Lb(),l.Mb(6,"ion-content",1),l.Mb(7,"ion-list"),l.gc(8,b,13,4,"ion-item-sliding",2),l.Lb(),l.Mb(9,"ion-item"),l.hc(10),l.Lb(),l.Lb(),l.Mb(11,"ion-item",1),l.hc(12,"\n*slide on the item to delete\n"),l.Lb()),2&t&&(l.zb(8),l.bc("ngForOf",e.cart),l.zb(2),l.ic(" Order Total: $",e.total,"\n"))},directives:[o.i,o.D,o.B,o.f,o.h,o.q,n.i,o.m,o.o,o.A,o.k,o.p,o.n,o.j],styles:[""]}),f)}],m=((d=function t(){_classCallCheck(this,t)}).\u0275mod=l.Hb({type:d}),d.\u0275inj=l.Gb({factory:function(t){return new(t||d)},imports:[[a.i.forChild(p)],a.i]}),d),y=((h=function t(){_classCallCheck(this,t)}).\u0275mod=l.Hb({type:h}),h.\u0275inj=l.Gb({factory:function(t){return new(t||h)},imports:[[n.b,i.e,o.E,m]]}),h)}}]);