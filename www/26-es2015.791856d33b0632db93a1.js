(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{jDsW:function(t,e,i){"use strict";i.r(e),i.d(e,"UpdateProductPageModule",(function(){return d}));var r=i("ofXK"),o=i("3Pt+"),n=i("TEn/"),s=i("tyNb"),c=i("mrSG"),l=i("fXoL"),a=i("Zr+e");const u=[{path:"",component:(()=>{class t{constructor(t,e,i,r,n,s){this.formBuilder=t,this.route=e,this.itemService=i,this.router=r,this.alertController=n,this.toastController=s,this.edit_item_form=this.formBuilder.group({title:new o.b("",o.l.required),price:new o.b("",o.l.required),description:new o.b("",o.l.required)})}ngOnInit(){console.log("onInit"),this.route.params.subscribe(t=>{this.current_item=t,console.log(this.current_item),this.edit_item_form.patchValue({title:this.current_item.title}),this.edit_item_form.patchValue({price:this.current_item.price}),this.edit_item_form.patchValue({description:this.current_item.description})})}deleteItem(){return Object(c.a)(this,void 0,void 0,(function*(){if("owner"==this.itemService.getUsertype()){const t=yield this.alertController.create({header:"Delete Item?",message:"You are about to delete this item. Are you sure?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Delete Canceled")}},{text:"Yes",handler:()=>{console.log("Confirm Okay"),this.itemService.deleteItem(this.current_item.id),this.deleteToast()}}]});yield t.present()}else this.presentToast()}))}presentToast(){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:"Only an owner can delete items.",color:"danger",duration:2e3})).present()}))}deleteToast(){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:"Item Deleted",color:"tertiary",duration:2e3})).present()}))}updateItem(t){console.log(this.current_item.id),console.log(this.current_item.title),this.itemService.updateProduct({id:this.current_item.id,category:this.current_item.category,description:t.description,image:this.current_item.image,price:t.price,title:t.title,uid:this.current_item.uid},this.current_item.id),this.goBack()}goBack(){this.router.navigate(["tabs/tab1"])}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(o.a),l.Jb(s.a),l.Jb(a.a),l.Jb(s.g),l.Jb(n.a),l.Jb(n.L))},t.\u0275cmp=l.Db({type:t,selectors:[["app-update-product"]],decls:25,vars:1,consts:[["slot","start"],["slot","end"],[3,"click"],["name","trash-outline"],[1,"ion-padding"],[3,"formGroup","submit"],["color","primary","position","floating"],["type","text","formControlName","title","required",""],["type","number","formControlName","price","required",""],["type","text","formControlName","description","required",""],["expand","block","type","submit",1,"submit-btn"]],template:function(t,e){1&t&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-title"),l.hc(3,"Edit Product"),l.Lb(),l.Mb(4,"ion-buttons",0),l.Kb(5,"ion-back-button"),l.Lb(),l.Mb(6,"ion-buttons",1),l.Mb(7,"ion-button",2),l.Ub("click",(function(){return e.deleteItem()})),l.Kb(8,"ion-icon",3),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(9,"ion-content",4),l.Mb(10,"form",5),l.Ub("submit",(function(){return e.updateItem(e.edit_item_form.value)})),l.Mb(11,"ion-item"),l.Mb(12,"ion-label",6),l.hc(13,"Title"),l.Lb(),l.Kb(14,"ion-input",7),l.Lb(),l.Mb(15,"ion-item"),l.Mb(16,"ion-label",6),l.hc(17," Product Price (numbers only) "),l.Lb(),l.Kb(18,"ion-input",8),l.Lb(),l.Mb(19,"ion-item"),l.Mb(20,"ion-label",6),l.hc(21,"Description"),l.Lb(),l.Kb(22,"ion-input",9),l.Lb(),l.Mb(23,"ion-button",10),l.hc(24,"Update"),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.zb(10),l.bc("formGroup",e.edit_item_form))},directives:[n.i,n.D,n.B,n.g,n.d,n.e,n.f,n.j,n.h,o.m,o.h,o.d,n.m,n.p,n.l,n.K,o.g,o.c,o.k,n.H],styles:[""]}),t})()}];let b=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(u)],s.i]}),t})(),d=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},imports:[[r.b,o.e,n.E,o.j,b]]}),t})()}}]);