(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{v35Q:function(t,i,e){"use strict";e.r(i),e.d(i,"CartPageModule",(function(){return m}));var o=e("ofXK"),n=e("3Pt+"),r=e("TEn/"),c=e("tyNb"),s=e("mrSG"),a=e("Osjz"),b=e("fXoL"),l=e("Zr+e");function d(t,i){if(1&t){const t=b.Nb();b.Mb(0,"ion-item-sliding"),b.Mb(1,"ion-item"),b.Mb(2,"ion-thumbnail",3),b.Kb(3,"ion-img",4),b.Lb(),b.Mb(4,"ion-label"),b.hc(5),b.Lb(),b.Mb(6,"ion-label"),b.hc(7),b.Lb(),b.Mb(8,"ion-label"),b.hc(9),b.Lb(),b.Lb(),b.Mb(10,"ion-item-options",5),b.Mb(11,"ion-button",6),b.Ub("click",(function(){b.dc(t);const e=i.$implicit;return b.Wb().delete(e)})),b.Kb(12,"ion-icon",7),b.Lb(),b.Lb(),b.Lb()}if(2&t){const t=i.$implicit;b.zb(3),b.bc("src",t.image),b.zb(2),b.ic(" ",t.title," "),b.zb(2),b.ic(" ",t.quantity," "),b.zb(2),b.ic(" $ ",t.cost," ")}}const h=[{path:"",component:(()=>{class t{constructor(t,i){this.itemService=t,this.toastController=i,this.cart=[],this.total=0,this.count=0,this.product="",this.uid=a.auth().currentUser.uid,this.itemService.getObservable().subscribe(t=>{this.cart=this.itemService.cart,this.updateTotal()}),this.cart=this.itemService.cart,null==a.auth().currentUser&&console.log("User not logged in"),this.updateTotal()}ngOnInit(){}delete(t){this.itemService.deleteCart(t.id)}updateTotal(){this.total=0,this.count=0,this.product="";for(let t of this.cart)this.total+=t.cost,this.product+=t.quantity+"x "+t.title+" $"+t.cost+" \n\r\n",this.count++}placeOrder(){let t=Math.random().toString(36).substr(2,5);this.itemService.placeOrder(this.cart,t,this.uid,this.total,Date(),this.count);for(let i of this.cart)this.itemService.deleteCart(i.id);this.orderToast()}orderToast(){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:"Item order has been placed",color:"success",duration:2e3})).present()}))}}return t.\u0275fac=function(i){return new(i||t)(b.Jb(l.a),b.Jb(r.L))},t.\u0275cmp=b.Db({type:t,selectors:[["app-cart"]],decls:13,vars:2,consts:[["slot","end",3,"click"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["slot","start"],[3,"src"],["side","end"],["color","danger",3,"click"],["name","trash"]],template:function(t,i){1&t&&(b.Mb(0,"ion-header"),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-title"),b.hc(3,"Cart"),b.Lb(),b.Mb(4,"ion-button",0),b.Ub("click",(function(){return i.placeOrder()})),b.hc(5," Place Order "),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content",1),b.Mb(7,"ion-list"),b.gc(8,d,13,4,"ion-item-sliding",2),b.Lb(),b.Mb(9,"ion-item"),b.hc(10),b.Lb(),b.Lb(),b.Mb(11,"ion-item",1),b.hc(12,"\n*slide on the item to delete\n"),b.Lb()),2&t&&(b.zb(8),b.bc("ngForOf",i.cart),b.zb(2),b.ic(" Order Total: $",i.total,"\n"))},directives:[r.i,r.D,r.B,r.f,r.h,r.q,o.i,r.m,r.o,r.A,r.k,r.p,r.n,r.j],styles:[""]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(i){return new(i||t)},imports:[[c.i.forChild(h)],c.i]}),t})(),m=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(i){return new(i||t)},imports:[[o.b,n.e,r.E,u]]}),t})()}}]);