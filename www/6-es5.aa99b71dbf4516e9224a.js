function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"bj+n":function(e,t,n){"use strict";n.r(t),n.d(t,"ProductListPageModule",(function(){return y}));var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),s=n("mrSG"),c=n("Osjz"),l=n("fXoL"),u=n("Zr+e"),b=n("a/9d"),g=n("FAH8");function h(e,t){if(1&e){var n=l.Nb();l.Mb(0,"ion-item",2),l.Ub("click",(function(){l.dc(n);var e=t.$implicit;return l.Wb().goToItem(e)})),l.Mb(1,"ion-thumbnail",8),l.Kb(2,"ion-img",6),l.Lb(),l.Mb(3,"ion-label"),l.hc(4),l.Lb(),l.Mb(5,"ion-label"),l.hc(6),l.Lb(),l.Mb(7,"ion-label"),l.hc(8),l.Lb(),l.Lb()}if(2&e){var i=t.$implicit;l.zb(2),l.bc("src",i.image),l.zb(2),l.ic(" ",i.title," "),l.zb(2),l.ic(" ",i.category," "),l.zb(2),l.ic(" $ ",i.price," ")}}var d,m,p,f=[{path:"",component:(d=function(){function e(t,n,i,o,r,a){var s=this;_classCallCheck(this,e),this.router=t,this.itemService=n,this.toastController=i,this.camera=o,this.navCtrl=r,this.file=a,this.img="assets/white.png",this.display="",this.imgfile="",this.items=[],this.image="",this.test="",this.randomId=Math.random().toString(36).substr(2,5),this.itemService.getObservable().subscribe((function(e){s.items=s.itemService.items})),this.items=this.itemService.items,null==c.auth().currentUser&&console.log("User not logged in")}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"logout",value:function(){var e=this;c.auth().signOut().then((function(){console.log("Loggging Out"),e.router.navigate(["/login"])})).catch((function(e){console.log("Error! Signout")})),this.itemService.setUsertype("visitor"),this.logoutToast()}},{key:"openNewItemPage",value:function(){console.log("clicked me"),null==c.auth().currentUser&&(console.log("user not logged in"),console.log("log in please"),this.router.navigate(["/login"])),"owner"==this.itemService.getUsertype()?this.router.navigate(["/add-product"]):(console.log("Only an owner can add items"),this.presentToast())}},{key:"presentToast",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({color:"danger",message:"Only an owner can add items.",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"logoutToast",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({color:"danger",message:"You have been logged out",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"goToItem",value:function(e){this.router.navigate(["/product-detail",e])}},{key:"pickImage",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={quality:50,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE},e.t0="data:image/jpeg;base64,",e.next=5,this.camera.getPicture(t);case 5:e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1),c.storage().ref(this.randomId).putString(n,"data_url"),e.next=13;break;case 10:e.prev=10,e.t2=e.catch(0),console.error(e.t2);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})))}},{key:"download",value:function(){c.storage().ref().child(this.randomId).getDownloadURL().then((function(e){}))}}]),e}(),d.\u0275fac=function(e){return new(e||d)(l.Jb(a.g),l.Jb(u.a),l.Jb(r.L),l.Jb(b.a),l.Jb(r.G),l.Jb(g.a))},d.\u0275cmp=l.Db({type:d,selectors:[["app-product-list"]],decls:13,vars:2,consts:[["mode","ios"],["slot","end"],[3,"click"],["slot","icon-only","name","add-circle"],["name","log-in-outline"],[1,"ion-padding"],[3,"src"],[3,"click",4,"ngFor","ngForOf"],["slot","start"]],template:function(e,t){1&e&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar",0),l.Mb(2,"ion-title"),l.hc(3," Homepage "),l.Lb(),l.Mb(4,"ion-buttons",1),l.Mb(5,"ion-button",2),l.Ub("click",(function(){return t.openNewItemPage()})),l.Kb(6,"ion-icon",3),l.Lb(),l.Mb(7,"ion-button",2),l.Ub("click",(function(){return t.logout()})),l.Kb(8,"ion-icon",4),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(9,"ion-content",5),l.Kb(10,"ion-img",6),l.Mb(11,"ion-list"),l.gc(12,h,9,4,"ion-item",7),l.Lb(),l.Lb()),2&e&&(l.zb(10),l.bc("src",t.img),l.zb(2),l.bc("ngForOf",t.items))},directives:[r.i,r.D,r.B,r.g,r.f,r.j,r.h,r.k,r.q,i.i,r.m,r.A,r.p],styles:[""]}),d)}],v=((p=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:p}),p.\u0275inj=l.Gb({factory:function(e){return new(e||p)},imports:[[a.i.forChild(f)],a.i]}),p),y=((m=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:m}),m.\u0275inj=l.Gb({factory:function(e){return new(e||m)},imports:[[i.b,o.e,r.E,v]]}),m)}}]);